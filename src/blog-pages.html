<!--
CPS 530 Final - Polymer 2.0

Alisikander Ahmed 500629092
Filip Bajlon 500634465
Nam Danh 500622885
Navjot Virk 500591047
Ng Ho Yin 500627221
Robert Nash 500717736
-->

<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/paper-spinner/paper-spinner.html">

<link rel="import" href="list-page.html">
<link rel="import" href="post-page.html">

<dom-module id="blog-pages">

  <template>

    <style>
      :host {
        display: block;
      }

    </style>

    <app-route route="{{route}}"
               pattern="/list"
               active="{{listActive}}"></app-route>

    <app-route route="{{route}}"
               pattern="/posts/:slug"
               active="{{postsActive}}"
               data="{{postsData}}"></app-route>

    <list-page category="{{category}}"
               active={{listActive}}
               loading="{{isLoading}}"></list-page>

    <post-page post="{{postsData.slug}}"
               active="{{postsActive}}"
               loading="{{isLoading}}"></post-page>


  </template>

  <script>
    Polymer({

      is: 'blog-pages',

      observers: [
        '_lockScroll(isLoading)'
      ],

      _lockScroll: function(isLoading) {
        if (isLoading) {
          document.body.style.overflow = 'hidden';
        } else {
          document.body.style.overflow = 'visible';
        }
      }

    });
  </script>

</dom-module>
